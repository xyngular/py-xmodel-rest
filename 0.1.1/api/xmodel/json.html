<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>xmodel.json API documentation</title>
<meta name="description" content="The purpose of the JsonModel is to be able to create model classes from json data we have
retrieved from somewhere that is not an API endpoint or as a …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>xmodel.json</code></h1>
</header>
<section id="section-intro">
<p>The purpose of the JsonModel is to be able to create model classes from json data we have
retrieved from somewhere that is not an API endpoint or as a subclass of data from an API
endpoint that does not have it's own endpoint. We also want to be able to find any related models
that may have an API endpoint that we can retrieve their data from. An example of this would be a
database that has a RemoteModel's id stored within it that we may want to retrieve at a later date
or only at certain times when that data is relevant so that we do not manually have to look up
that RemoteModel ourselves and will let the associated model look itself up in the way that it
knows how to.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
The purpose of the JsonModel is to be able to create model classes from json data we have
retrieved from somewhere that is not an API endpoint or as a subclass of data from an API
endpoint that does not have it&#39;s own endpoint. We also want to be able to find any related models
that may have an API endpoint that we can retrieve their data from. An example of this would be a
database that has a RemoteModel&#39;s id stored within it that we may want to retrieve at a later date
or only at certain times when that data is relevant so that we do not manually have to look up
that RemoteModel ourselves and will let the associated model look itself up in the way that it
knows how to.
&#34;&#34;&#34;

from typing import TypeVar
from .base import BaseModel


M = TypeVar(&#39;M&#39;)


class JsonModel(BaseModel[M]):
    pass</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="xmodel.json.JsonModel"><code class="flex name class">
<span>class <span class="ident">JsonModel</span></span>
<span>(</span><span>*args, **initial_values)</span>
</code></dt>
<dd>
<div class="desc"><p>Used as the abstract base-class for classes/object that communicate with our REST API.</p>
<p>This is one of the main classes, and it's highly recommend you read the
<a href="./#orm-library-overview">SDK Library Overview</a> first, if you have not already.
That document has many basic examples of using this class along with other related classes.</p>
<p>Attributes that start with <code>_</code> or don't have a type-hint are not considered fields
on the object that automatically get mapped to/from the JSON that is passed in.
For more details see <a href="./#type-hints">Type Hints</a>.</p>
<p>When you sub-class <code>BaseModel</code>, you can create your own Model class, with your own
fields/attrs.
You can pass class arguments/paramters in when you declare your sub-class.
The Model-subclass can provide parameters to the super class during class construction.</p>
<p>In the example below, notice the <code>base_url</code> part. That's a class argument, that is used by the
super-class during the construction of the sub-class (before any instances are created).
In this case it takes this and stores it on
<code>xmodel.rest.RestStructure.base_model_url</code>
as part of the structure information for the <code>BaseModel</code> subclass.</p>
<p>See <a href="./#basic-model-example">Basic Model Example</a> for an example of what class arguments
are or look at this example below using a RestModel:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; # 'base_url' part is a class argument:
&gt;&gt;&gt; from xmodel.rest import RestModel
&gt;&gt;&gt; class Account(RestModel[&quot;Account&quot;], base_url='/account'):
&gt;&gt;&gt;    id: str
&gt;&gt;&gt;    name: str
</code></pre>
<p>These class arguments are sent to a special method
<code><a title="xmodel.base.structure.BaseStructure.configure_for_model_type" href="base/structure.html#xmodel.base.structure.BaseStructure.configure_for_model_type">BaseStructure.configure_for_model_type()</a></code>. See that methods docs for
a list of avaliable class-arguments.</p>
<p>See <code>BaseModel.__init_subclass__</code> for more on the internal details of how this works exactly.</p>
<div class="admonition note">
<p class="admonition-title">Note:&ensp;In the case of <code>base_url</code> example above, it's the base-url-endpoint for the model.</p>
<p>If you want to know more about that see <code>xmodel.rest.RestClient.url_for_endpoint</code>.
It has details on how the final request <code><a title="xurls.url.URL" href="../xurls/url.html#xurls.url.URL">URL</a></code> is constructed.</p>
</div>
<p>This class also allows you to more easily with with JSON data via:</p>
<ul>
<li><code><a title="xmodel.base.api.BaseApi.json" href="base/api.html#xmodel.base.api.BaseApi.json">BaseApi.json()</a></code></li>
<li><code><a title="xmodel.base.api.BaseApi.update_from_json" href="base/api.html#xmodel.base.api.BaseApi.update_from_json">BaseApi.update_from_json()</a></code></li>
<li>Or passing a JSON dict as the first arrument to <code>BaseModel.__init__</code>.</li>
</ul>
<p>Other important related classes are listed below.</p>
<ul>
<li><code><a title="xmodel.base.api.BaseApi" href="base/api.html#xmodel.base.api.BaseApi">BaseApi</a></code> Accessable via <code>BaseModel.api</code>.</li>
<li><code>xmodel.rest.RestClient</code>: Accessable via <code>xmodel.base.api.BaseApi.client</code>.</li>
<li><code>xmodel.rest.settings.RestSettings</code>: Accessable via
<code>xmodel.base.api.BaseApi.settings</code>.</li>
<li><code><a title="xmodel.base.structure.BaseStructure" href="base/structure.html#xmodel.base.structure.BaseStructure">BaseStructure</a></code>: Accessable via
<code><a title="xmodel.base.api.BaseApi.structure" href="base/api.html#xmodel.base.api.BaseApi.structure">BaseApi.structure</a></code></li>
<li><code>xmodel.base.auth.BaseAuth</code>: Accessable via <code>xmodel.base.api.BaseApi.auth</code></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip:&ensp;For all of the above, you can change what class is allocated for each one</p>
<p>by changing the type-hint on a subclass.</p>
</div>
<p>Creates a new model object. The first/second params need to be passed as positional
arguments. The rest must be sent as key-word arguments. Everything is optional.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>id</code></strong></dt>
<dd>Specify the <code>BaseModel.id</code> attribute, if you know it. If left as Default, nothing
will be set on it. It could be set to something via args[0] (ie: a JSON dict).
If you do provide a value, it be set last after everything else has been set.</dd>
<dt><strong><code>*args</code></strong></dt>
<dd>
<p>I don't want to take names from what you could put into 'initial_values',
so I keep it as position-only *args. Once Python 3.8 comes out, we can use a
new feature where you can specify some arguments as positional-only and not
keyword-able.</p>
<h2 id="firstarg-if-dict">FirstArg - If Dict:</h2>
<p>If raw dictionary parsed from JSON string. It just calls
<code>self.api.update_from_json(args[0])</code> for you.</p>
<h2 id="firstart-if-basemodel">FirstArt - If BaseModel:</h2>
<p>If a <code>BaseModel</code>, will copy fields over that have the same name.
You can use this to duplicate a Model object, if you want to copy it.
Or can be used to copy fields from one model type into another,
on fields that are the same name.</p>
<p>Will ignore fields that are present on one but not the other.
Only copy fields that are on both models types.</p>
</dd>
<dt><strong><code>**initial_values</code></strong></dt>
<dd>Let's you specify other attribute values for convenience.
They will be set into the object the same way you would normally doing it:
ie: <code>model_obj.some_attr = v</code> is the same as <code>ModelClass(some_attr=v)</code>.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class JsonModel(BaseModel[M]):
    pass</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="xmodel.base.model.BaseModel" href="base/model.html#xmodel.base.model.BaseModel">BaseModel</a></li>
<li>typing.Generic</li>
<li>abc.ABC</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="xmodel.json.JsonModel.api"><code class="name">var <span class="ident">api</span> : <a title="xmodel.base.api.BaseApi" href="base/api.html#xmodel.base.api.BaseApi">BaseApi</a>[~M]</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="xmodel.base.model.BaseModel" href="base/model.html#xmodel.base.model.BaseModel">BaseModel</a></code>.<code><a title="xmodel.base.model.BaseModel.api" href="base/model.html#xmodel.base.model.BaseModel.api">api</a></code>
</p>
<div class="desc inherited"><p>Used to access the api class, which is used to retrieve/send objects to/from api …</p></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="xmodel.json.JsonModel.__init_subclass__"><code class="name flex">
<span>def <span class="ident">__init_subclass__</span></span>(<span>*, lazy_loader: Callable[[Type[~M]], None] = None, **kwargs)</span>
</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="xmodel.base.model.BaseModel" href="base/model.html#xmodel.base.model.BaseModel">BaseModel</a></code>.<code><a title="xmodel.base.model.BaseModel.__init_subclass__" href="base/model.html#xmodel.base.model.BaseModel.__init_subclass__">__init_subclass__</a></code>
</p>
<div class="desc inherited"><p>We take all arguments (except <code>lazy_loader</code>) passed into here and send them to the method
on our structure:
…</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="xmodel" href="index.html">xmodel</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="xmodel.json.JsonModel" href="#xmodel.json.JsonModel">JsonModel</a></code></h4>
<ul class="">
<li><code><a title="xmodel.json.JsonModel.__init_subclass__" href="base/model.html#xmodel.json.JsonModel.__init_subclass__">__init_subclass__</a></code></li>
<li><code><a title="xmodel.json.JsonModel.api" href="#xmodel.json.JsonModel.api">api</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>